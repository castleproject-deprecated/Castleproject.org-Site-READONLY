<?xml version="1.0"?>
<document order="6">
  <properties>
    <title>Flash</title>
  </properties>

  <body>

<intro>

<p>
<tt>Flash</tt> is a way to persist a transient value between requests. 
It is useful when you perform some process and issue a redirect. On the
redirect target you can check the <tt>Flash</tt> for a status code, error message
or something equivalent. For example:
</p>

	<pre format="cs">
using Castle.MonoRail.Framework;

public class AdminController : Controller
{
	public void PasswordManagement()
	{
	}

	public void ChangePassword()
	{
		String passwd = Params["password"];
	
		if (passwd.Length &lt; 6)
		{
			Flash["error"] = "Password too weak, operation aborted";
		}
		else
		{
			// Change password
		}
	
		RedirectToAction("PasswordManagement");
	}
}</pre>

	<p>
	It might be not clear in the example above the flow. 
	First the user access the action <tt>PasswordManagement</tt>.
	A page with some action appears, including a change password 
	form that posts to the <tt>ChangePassword</tt> action. 
	</p>
	
	<p>
	On the <tt>ChangePassword</tt> action we perform a naive
	check and, in the event of failure, add an entry to the Flash.
	Finally we send the user back to the <tt>PasswordManagement</tt>
	action sending a redirect. The view for the <tt>PasswordManagement</tt>
	needs to check the flash entry error and show a meaningful error
	message accordingly.
	</p>

</intro>

</body>
</document>
