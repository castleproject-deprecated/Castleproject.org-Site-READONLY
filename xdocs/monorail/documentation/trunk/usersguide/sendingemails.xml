<?xml version="1.0"?>
<document order="30">
  <properties>
    <title>Sending e-mails</title>
  </properties>

  <body>

<intro>

It's easy to send emails using MonoRail combining templates as you do with the views.

</intro>

<section>
	<title>Configuring</title>

<p>First of all configure the smtp as described on [[MonoRail Configuration Reference#Formal_reference|Formal reference topic]]</p>

</section>
<section>
	<title>Templates</title>

<p>Create a directory for e-mail templates on your views folder, the directory must be called <tt>mail</tt> </p>
</section>

<section>
	<title>Processing templates and sending e-mails</title>

<p>The <tt>Controller</tt> class provides the following methods to handle email:</p>

<p>
	<table class="commontable">
	<tr>
		<th><tt>Method</tt></th>
		<th>Description</th>
	</tr>
	<tr>
		<td><tt>Message RenderMailMessage(String templateName)</tt></td>
		<td>Creates an instance of <tt>Message</tt> using the specified template for the body.</td>
	</tr>
	<tr>
		<td><tt>void DeliverEmail(Message message)</tt></td>
		<td>Attempts to deliver the <tt>Message</tt> using the smtp configured on web.config.</td>
	</tr>
	<tr>
		<td><tt>void RenderEmailAndSend(String templateName)</tt></td>
		<td>Renders and delivers the e-mail message.</td>
	</tr>
	</table>
</p>

</section>

</body>
</document>
