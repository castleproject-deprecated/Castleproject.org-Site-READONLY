<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">









<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
		<title>DiggStylePaginationComponent :: Castle Project</title>
		<link rel="stylesheet" href="../../../../base.css" />
		<link rel="stylesheet" href="../../../../front.css" />
		<link rel="stylesheet" href="../../../../elem.css" />
		<link rel="stylesheet" href="../../../../csharp.css" />
		<link rel="stylesheet" href="../../../../TAB_styles.css" />
		<script type="text/javascript" src="../../../../mktree.js"></script>
		<script type="text/javascript" src="../../../../TAB_Function_Lib.js"></script>
		<script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
	</head>

	<body>
<div id="topheader">
  <div id="maintitle">
	<h1> <a href="../../../../index.html" title="Castle Project Home" accesskey="1">Home</a> </h1>
	<h2> <a href="http://www.castlestronghold.com" title="Castle Stronghold: support, consulting and development">Castle Stronghold</a> </h2>
  </div>
  <div id="mainbar">
	<ul id="toplinks">
		<li>&nbsp;</li>
		<li><a style="_width: 70px;" href="../../../../index.html">Home</a></li>
		<li><a style="_width: 70px;" href="../../../../castle/download.html">Download</a></li>
		<li><a style="_width: 110px;" href="http://api.castleproject.org">API Doc</a></li>
		<li><a style="_width: 50px;" href="http://using.castleproject.org">Using</a></li>
		<li><a style="_width: 60px;" href="../../../../community/forum.html">Forum</a></li>
		<li><a style="_width: 120px;" href="../../../../jira.html">Jira/Issue tracker</a></li>
		<li><a style="_width: 110px;" href="http://builds.castleproject.org">Builds</a></li>
	</ul>
  </div>
</div>



<div id="coolpage">

	<div id="sidebar" >
		
  <div class="lightmenu">
    <div class="lightmenucontent">
<span class="menutitle">
<a href="./../../../../monorail/index.html">MonoRail</a>
</span>
  <ul>
<li>
<a href="./../../../../monorail/gettingstarted/index.html">Getting started</a>
</li>
<li>
<a href="./../../../../monorail/faq.html">FAQ</a>
</li>
<li>
<a href="./../../../../monorail/recipes/index.html">Recipes</a>
</li>
<li>
<a href="./../../../../monorail/externalarticles.html">External Articles</a>
</li>
  </ul>
    </div>
  </div>
  <br/>
  <div class="lightmenu">
    <div class="lightmenucontent">
<span class="menutitle">
<a href="./../../../../monorail/documentation/trunk/index.html">Documentation</a>
</span>
  <ul>
<li>
<a href="./../../../../monorail/documentation/trunk/releasenotes/index.html">Release notes</a>
</li>
<li>
<a href="./../../../../monorail/documentation/trunk/manual/index.html">Reference Manual</a>
</li>
<li>
<a href="./../../../../monorail/documentation/trunk/usersguide/index.html">User's Guide</a>
</li>
<li>
<a href="./../../../../monorail/documentation/trunk/advanced/index.html">Advanced usage</a>
</li>
  </ul>
    </div>
  </div>
  <br/>
  <div class="darkmenu">
    <div class="darkmenucontent">
<span class="menutitle">
Navigation
</span>
  <ul>
<li>
<a href="./../../../../index.html">Back to Main Page</a>
</li>
  </ul>
    </div>
  </div>
  <br/>
	<br/>
	
	</div>
		
	<div id="content">
	
		<div class="callout-pic">

<!-- Begin Table of contents -->
<div id="toc">
<h2>Table of contents</h2>
<ul>
<li class='toclevel-1'><a href="#basicusage"><span class="tocnumber">1</span> <span class="toctext">Basic Usage</span></a>
</li>
<li class='toclevel-1'><a href="#simplecustomize"><span class="tocnumber">2</span> <span class="toctext">Simple Customizing</span></a>
<ul>
	<li class='toclevel-1'><a href="#changingcaptions"><span class="tocnumber">2.1</span> <span class="toctext">Customizing Captions</span></a>
</li>
	<li class='toclevel-1'><a href="#suppressRender"><span class="tocnumber">2.2</span> <span class="toctext">Suppressing Display</span></a>
</li>
	<li class='toclevel-1'><a href="#changingstyle"><span class="tocnumber">2.3</span> <span class="toctext">Changing Link Styles</span></a>
</li>
	<li class='toclevel-1'><a href="#numberoflinks"><span class="tocnumber">2.4</span> <span class="toctext">Changing the Number of Links displayed</span></a>
</li>
</ul>
</li>
<li class='toclevel-1'><a href="#customizeaction"><span class="tocnumber">3</span> <span class="toctext">Customizing the Actions</span></a>
<ul>
	<li class='toclevel-1'><a href="#urlparam"><span class="tocnumber">3.1</span> <span class="toctext">Adding Parameters to the URL</span></a>
</li>
	<li class='toclevel-1'><a href="#urlscript"><span class="tocnumber">3.2</span> <span class="toctext">Using a JavaScript function as Link target</span></a>
</li>
	<li class='toclevel-1'><a href="#linksection"><span class="tocnumber">3.3</span> <span class="toctext">Building the Links with #link</span></a>
</li>
</ul>
</li>
</ul>
</div>
<!-- End Table of contents -->
		</div>

		<h1 class="firstHeading">
		    DiggStylePaginationComponent
		</h1> 
	
<div class="breadcrumbs">
&raquo;
	<a href="./../../../../index.html">Home</a> 
&raquo;
	<a href="./../../../../monorail/index.html">MonoRail</a> 
&raquo;
	<a href="./../../../../monorail/documentation/index.html">Documentation</a> 
&raquo;
	<a href="./../../../../monorail/documentation/trunk/index.html">MonoRail trunk Documentation</a> 
&raquo;
	<a href="./../../../../monorail/documentation/trunk/viewcomponents/index.html">ViewComponents</a> 
&raquo;
<u>DiggStylePaginationComponent</u>
</div>

		<!-- start content -->
<p>
The DiggStylePagination component allows to create standardized but customizable
pagination links for use with MonoRail's
<a href="..\helpers\pagination\index.html" >PaginationHelper</a>.
</p><p>
    You can download the complete sourcecode for the examples below:

      <div class="download">
<div class="downloadborderleft">
<div class="downloadborderright">
<div class="filename">
<a href="./../../../../download/monorail/trunk/MonoRail.DiggStylePagination.zip">DiggStylePagination.zip</a> (10,14k)
</div>
</div></div></div>
</p><a name="basicusage"></a>
  <h1>Basic Usage</h1>
<p>
        Suppose you have a list of about 200 items to display. Using MonoRail it
        is easy to create a pagination for that items, such that only 20 at a
        time are displayed:
    </p>    <pre class="csharpcode">

<span class="kwrd">public</span> <span class="kwrd">class</span> HomeController : SmartDispatcherController
{
    <span class="kwrd">public</span> <span class="kwrd">void</span> Index()
    {
            PropertyBag[<span class="str">"items"</span>] =
                PaginationHelper.CreatePagination&lt;MyEntity&gt;(
                    <span class="kwrd">this</span>, <span class="rem">// controller</span>
                    MyEntity.FindAll(<span class="kwrd">new</span> Order(<span class="str">"Index"</span>, <span class="kwrd">true</span>)), <span class="rem">// list</span>
                    10 <span class="rem">// number of items per page</span>
                );
    }
}    
    </pre>
  <p><tt>items</tt> is an instance of <tt>IPaginatedPage</tt>. It can be used
        like a list in NVelocity templates. Additionally, it has properties to
        determine the current status of the pagination. These properties can be
        used to create pagination links, which is described in the
        <a href="..\helpers\pagination\index.html" >PaginationHelper</a>
        documentation.
    </p><p>
        However, building pagination links is a repeating task that should be
        automated. This is what the DiggStylePaginationComponent does.
    </p>    <pre class="csharpcode">

<span class="kwrd">&lt;</span><span class="html">table</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">tr</span><span class="kwrd">&gt;&lt;</span><span class="html">th</span><span class="kwrd">&gt;</span>Name<span class="kwrd">&lt;/</span><span class="html">th</span><span class="kwrd">&gt;&lt;</span><span class="html">th</span><span class="kwrd">&gt;</span>Index<span class="kwrd">&lt;/</span><span class="html">th</span><span class="kwrd">&gt;&lt;/</span><span class="html">tr</span><span class="kwrd">&gt;</span>
#foreach($row in $items)
  <span class="kwrd">&lt;</span><span class="html">tr</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">td</span><span class="kwrd">&gt;</span>$row.Name<span class="kwrd">&lt;/</span><span class="html">td</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">td</span><span class="kwrd">&gt;</span>$row.Index<span class="kwrd">&lt;/</span><span class="html">td</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">tr</span><span class="kwrd">&gt;</span>
#end
<span class="kwrd">&lt;</span><span class="html">tr</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">td</span> <span class="attr">colspan</span><span class="kwrd">="2"</span><span class="kwrd">&gt;</span>
#component(DiggStylePagination with "page=$items")
    <span class="kwrd">&lt;/</span><span class="html">td</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">tr</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">table</span><span class="kwrd">&gt;</span>
    </pre>
  <p>
        This creates a production ready pagination line as shown in the picture
        below:
    </p><img src="./../../../../images/monorail/DiggPaginationBasicResults.png" ></img><a name="simplecustomize"></a>
  <h1>Simple Customizing</h1>
<a name="changingcaptions"></a>
  <h2>Customizing Captions</h2>
<p>
            When creating a non-english application, the labels
            <tt>&laquo; prev</tt> and <tt>next &raquo;</tt> don't make any
            sense. This can be changed by using a DiggStylePagination
            blockcomponent and sections to customize the link text:
        </p>    <pre class="csharpcode">

...data same as above...
<span class="kwrd">&lt;</span><span class="html">tr</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">td</span> <span class="attr">colspan</span><span class="kwrd">="2"</span><span class="kwrd">&gt;</span>
#blockcomponent(DiggStylePagination with "page=$items")
    #prev
        <span class="attr">&amp;laquo;</span>
    #end
    #next
        <span class="attr">&amp;raquo;</span>
    #end
#end
    <span class="kwrd">&lt;/</span><span class="html">td</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">tr</span><span class="kwrd">&gt;</span>
        </pre>
  <p>
            You can see the results below. Pay attention to encircled links.
        </p><img src="./../../../../images/monorail/DiggPaginationNextPrevResults.png" ></img><a name="suppressRender"></a>
  <h2>Suppressing Display</h2>
<p>
            The problem is that if there are less items than the specified page
            size, the pagination is still displayed.
        </p><img src="./../../../../images/monorail/DiggPaginationOnePageResults1.png" ></img><p>
            This can be suppressed by specifiying the parameter
            <tt>RenderIfOnlyOnePage</tt>.
        </p>    <pre class="csharpcode">

...data same as above...
<span class="kwrd">&lt;</span><span class="html">tr</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">td</span> <span class="attr">colspan</span><span class="kwrd">="2"</span><span class="kwrd">&gt;</span>
#component(DiggStylePagination with "page=$items" "renderifonlyonepage=false")
    <span class="kwrd">&lt;/</span><span class="html">td</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">tr</span><span class="kwrd">&gt;</span>
        </pre>
  <p>
            This removes the pagination itself from the page, but the surrounding
            table cell is still rendered. In this example this is visible by a
            thicker bottom border, but depending on the stylesheet this might
            lead to more ugly effects.
        </p><img src="./../../../../images/monorail/DiggPaginationOnePageResults2.png" ></img><p>
            To prevent this, it is possible to render the surrounding HTML by
            using the sections <tt>startblock</tt> and <tt>endblock</tt>. That
            way the HTML is only rendered when the pagination is needed.
        </p>    <pre class="csharpcode">

...data same as above...
#blockcomponent(DiggStylePagination with "page=$items" "renderifonlyonepage=false")
#startblock
<span class="kwrd">&lt;</span><span class="html">tr</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">td</span> <span class="attr">colspan</span><span class="kwrd">="2"</span><span class="kwrd">&gt;</span>
#end
#endblock
    <span class="kwrd">&lt;/</span><span class="html">td</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">tr</span><span class="kwrd">&gt;</span>
#end
#end
        </pre>
  <img src="./../../../../images/monorail/DiggPaginationOnePageResults3.png" ></img><a name="changingstyle"></a>
  <h2>Changing Link Styles</h2>
<p>
            Rectangular, button-like links are perhaps not your preferred style
            of displaying the pagination. When you need to change the way links
            are displayed, you must do so by using CSS classes.
        </p><p>
            DiggStylePaginationComponent emits the style within the HTML links,
            so you need to both specify CSS classes and force the component to
            use these classes.
        </p>    <pre class="csharpcode">

...data same as above...
<span class="kwrd">&lt;</span><span class="html">tr</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">td</span> <span class="attr">colspan</span><span class="kwrd">="2"</span><span class="kwrd">&gt;</span>
#component(DiggStylePagination with "page=$items" "useinlinestyle=false")
    <span class="kwrd">&lt;/</span><span class="html">td</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">tr</span><span class="kwrd">&gt;</span>
        </pre>
  <p>This results in the following HTML rendered:</p>    <pre class="csharpcode">

<span class="kwrd">&lt;</span><span class="html">div</span> <span class="attr">class</span><span class="kwrd">="pagination"</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">span</span> <span class="attr">class</span><span class="kwrd">="disabled"</span><span class="kwrd">&gt;</span><span class="attr">&amp;laquo;</span> prev<span class="kwrd">&lt;/</span><span class="html">span</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">span</span> <span class="attr">class</span><span class="kwrd">="current"</span><span class="kwrd">&gt;</span>1<span class="kwrd">&lt;/</span><span class="html">span</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">a</span> <span class="attr">href</span><span class="kwrd">="/home/index6.rails?page=2"</span><span class="kwrd">&gt;</span>2<span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">a</span> <span class="attr">href</span><span class="kwrd">="/home/index6.rails?page=3"</span><span class="kwrd">&gt;</span>3<span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">a</span> <span class="attr">href</span><span class="kwrd">="/home/index6.rails?page=4"</span><span class="kwrd">&gt;</span>4<span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">a</span> <span class="attr">href</span><span class="kwrd">="/home/index6.rails?page=5"</span><span class="kwrd">&gt;</span>5<span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">a</span> <span class="attr">href</span><span class="kwrd">="/home/index6.rails?page=6"</span><span class="kwrd">&gt;</span>6<span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;</span>
&amp;#8230;<span class="kwrd">&lt;</span><span class="html">a</span> <span class="attr">href</span><span class="kwrd">="/home/index6.rails?page=19"</span><span class="kwrd">&gt;</span>19<span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">a</span> <span class="attr">href</span><span class="kwrd">="/home/index6.rails?page=20"</span><span class="kwrd">&gt;</span>20<span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">a</span> <span class="attr">href</span><span class="kwrd">="/home/index6.rails?page=2"</span><span class="kwrd">&gt;</span>next <span class="attr">&amp;raquo;</span><span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;</span>

<span class="kwrd">&lt;/</span><span class="html">div</span><span class="kwrd">&gt;</span>
        </pre>
  <p>
            This allows you to customize the output using the following CSS
            classes:
            <ul><li><tt>pagination</tt> for the complete box containing the
                    pagination.
                </li><li><tt>disabled</tt> for "buttons" that are not disabled.
                </li><li><tt>current</tt> for displaying the current page number.
                </li></ul>
            Additionnally, you must specify CSS commands for
            <tt>.pagination a</tt> if you want to customize the links themselves.
        </p><p>Here is a comprehensive example that shows all four options:</p>    <pre class="csharpcode">

<span class="kwrd">&lt;</span><span class="html">style</span> <span class="attr">type</span><span class="kwrd">="text/css"</span> <span class="attr">media</span><span class="kwrd">="screen"</span><span class="kwrd">&gt;</span>
    .pagination {
        /* Complete box */
        background-color: yellow;
        font-size: large;
    }
    
    .pagination a {
        /* links */
        color: red;
    }
    
    .disabled {
        /* disabled "buttons" */
        color: purple;
    }
    
    .current {
        /* current page */
        color: blue;
    }
<span class="kwrd">&lt;/</span><span class="html">style</span><span class="kwrd">&gt;</span>
        </pre>
  <p>This one renders like shown below:</p><img src="./../../../../images/monorail/DiggPaginationClasses.png" ></img><a name="numberoflinks"></a>
  <h2>Changing the Number of Links displayed</h2>
<p>
            If you have a look at the pictures above, you might have noticed
            that not all pages are linked. By default, only the two pages before
            and after the current page are linked directly to save space.
            It is possible to customize the number of links to be displayed
            on each side of the current page before the ellipsis with the
            parameter <tt>adjacents</tt>.
        </p><p>
            However, the algorithm used doesn't work well with large numbers, so
            you should use one of the following values:
            <ul><li><tt>0</tt> or <tt>1</tt> for very narrow tables</li><li><tt>3</tt> for wide tables with a small number of expected
                pages. This setting suppresses rendering ellipsis for less than
                ten pages.</li><li><tt>2</tt> or nothing (it is the default) for the rest.</li></ul></p><a name="customizeaction"></a>
  <h1>Customizing the Actions</h1>
<p>
        So far, we have only changed how the links are displayed. This is good
        enough for simple pages, but if you provide means of searching or
        filtering the data, you must come up with a possibility to save the
        parameters for fetching data of the different pages.
    </p><p>
        Though it is not directly visible to the programmer, any time a
        different page is displayed, there is a roundtrip to the server using
        the original controller action. This means that for paging search
        results, you must pass the search parameters to the controller along with
        the pagination links.
    </p><p>
        This can be done using different techniques:
        <ul><li>
                Storing the search or filter params in the sessions. Some users
                are quite fond of this, because they always need the same subset
                of results. Others, however, are constantly searching for
                "disappeared" rows, so you should not use session variables only
                for round-trip-conservation of parameters.
            </li><li>
                Adding the search parameters to the URL of the page links. This
                is the preferable solution for most simple searches and filters.
            </li><li>
                Calling a JavaScript function from the links. Then use either
                AJAX for exchanging the rows to be displayed or construct an URL
                using JavaScript.
            </li></ul></p><a name="urlparam"></a>
  <h2>Adding Parameters to the URL</h2>
<p>
            The simplest method is specifying the URL to invoke by using the
            <tt>url</tt> parameter of the DiggStylePaginationComponent. This
            allows you to add the needed query params.
        </p><p>
            If you look at the example of doing this below, you should notice
            that the URL is assembled in an extra <tt>#set</tt>-statement. This
            is intentional; you cannot specify a string as parameter value that
            contains parameters itself.
        </p>    <pre class="csharpcode">

<span class="kwrd">&lt;</span><span class="html">table</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">tr</span><span class="kwrd">&gt;&lt;</span><span class="html">th</span><span class="kwrd">&gt;</span>Name<span class="kwrd">&lt;/</span><span class="html">th</span><span class="kwrd">&gt;&lt;</span><span class="html">th</span><span class="kwrd">&gt;</span>Index<span class="kwrd">&lt;/</span><span class="html">th</span><span class="kwrd">&gt;&lt;/</span><span class="html">tr</span><span class="kwrd">&gt;</span>
#foreach($row in $items)
  <span class="kwrd">&lt;</span><span class="html">tr</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">td</span><span class="kwrd">&gt;</span>$row.Name<span class="kwrd">&lt;/</span><span class="html">td</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">td</span><span class="kwrd">&gt;</span>$row.Index<span class="kwrd">&lt;/</span><span class="html">td</span><span class="kwrd">&gt;</span>
  <span class="kwrd">&lt;/</span><span class="html">tr</span><span class="kwrd">&gt;</span>
#end
<span class="kwrd">&lt;</span><span class="html">tr</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">td</span> <span class="attr">colspan</span><span class="kwrd">="2"</span><span class="kwrd">&gt;</span>
#set ($url="index8.rails?desc=$desc")
#component(DiggStylePagination with "page=$items" "url=$url")
## The statement below won't work!
##component(DiggStylePagination with "page=$items" "url='index8.rails?desc=$desc'")
    <span class="kwrd">&lt;/</span><span class="html">td</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">tr</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">table</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">a</span> <span class="attr">href</span><span class="kwrd">="index8.rails"</span><span class="kwrd">&gt;</span>Ascending list<span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;</span> <span class="attr">&amp;mdash;</span> 
<span class="kwrd">&lt;</span><span class="html">a</span> <span class="attr">href</span><span class="kwrd">="index8.rails?desc=true"</span><span class="kwrd">&gt;</span>Descending list<span class="kwrd">&lt;/</span><span class="html">a</span><span class="kwrd">&gt;</span>
        </pre>
  <a name="urlscript"></a>
  <h2>Using a JavaScript function as Link target</h2>
<p>
            From the pagination side of view, this is dead simple. Just specify
            the name of a JavaScript function defined elsewhere in the page and
            it will be called with the page number as a parameter on every
            pagination link click.
        </p><p>
            DiggStylePagination however doesn't help with consuming this
            information, so it is not recommended unless you are using AJAX
            nonetheless.
        </p>    <pre class="csharpcode">

...data same as above...
<span class="kwrd">&lt;</span><span class="html">tr</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">td</span> <span class="attr">colspan</span><span class="kwrd">="2"</span><span class="kwrd">&gt;</span>
#component(DiggStylePagination with "page=$items" "paginatefunction=foo")
    <span class="kwrd">&lt;/</span><span class="html">td</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">tr</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;</span><span class="html">script</span> <span class="attr">type</span><span class="kwrd">="text/javascript"</span><span class="kwrd">&gt;</span>
    <span class="kwrd">function</span> foo(page)
    {
        <span class="kwrd">var</span> a = <span class="kwrd">new</span> AjaxMagicObject();
        a.page = page;
        a.fetchAndDisplayData();
    }
<span class="kwrd">&lt;/</span><span class="html">script</span><span class="kwrd">&gt;</span>
        </pre>
  <p>
            DiggStylePagination will render this as
            <tt>javascript:foo(page);void(0);</tt>, so you really need to specify
            only the function name.
        </p><a name="linksection"></a>
  <h2>Building the Links with #link</h2>
<p>
            If all else fails, you can provide a block for creating the links.
            Just be warned, this should really be used only if all else fails;
            because there is no automation, you need to create all the HTML by
            yourself.
        </p><p>
            To build your links, you get the following variables as parameters:
            <ul><li><tt>$pageIndex</tt> contains the page number of the link to
                    render.
                </li><li><tt>$url</tt> contains the url to the controller action. If
                    it wasn't specified via the url-parameter discussed above,
                    it is simple an URL to the current page.
                </li><li><tt>$text</tt> contains the text that would have been
                    rendered by the default render functions. This is either a
                    number, prev, next or a custom text specified using
                    <tt>#prev</tt> or <tt>#next</tt>.
                </li></ul>
            To get a working pagination, you must not forget to pass a parameter
            named <tt>page</tt> to the controller action.
        </p><p>
            Using <tt>#link</tt> has the caveat, that it is not called for
            <ul><li>rendering the current page</li><li>rendering ellipsis</li><li>rendering disabled links</li></ul></p><p>
            The following examples renders all links as buttons. The (imperfect)
            result is shown below.
        </p>    <pre class="csharpcode">

<span class="kwrd">&lt;</span><span class="html">tr</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">td</span> <span class="attr">colspan</span><span class="kwrd">="2"</span><span class="kwrd">&gt;</span>
#blockcomponent(DiggStylePagination with "page=$items")
#link
<span class="kwrd">&lt;</span><span class="html">button</span> <span class="attr">type</span><span class="kwrd">="button"</span> <span class="attr">onclick</span><span class="kwrd">="location.href='$url?page=$pageIndex';"</span><span class="kwrd">&gt;</span>$text<span class="kwrd">&lt;/</span><span class="html">button</span><span class="kwrd">&gt;</span>
#end
#end
    <span class="kwrd">&lt;/</span><span class="html">td</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">tr</span><span class="kwrd">&gt;</span>
        </pre>
  <img src="./../../../../images/monorail/DiggPaginationButtons.png" ></img>		<!-- end content -->
		
	<div id="footer">
	Found an error? Something inaccurate? 
	<a href="../../../../community/getinvolved.html">Help us improve the documentation</a> <br/>
	Generated by <a href="../../../../others/anakia/index.html">Castle Anakia</a>. 
	
	<p>&nbsp;</p>
	
	<p>
	Sponsored by <img src="../../../../images/logothumb.gif" /> <a href="http://www.castlestronghold.com">Castle Stronghold</a>.
	</p>
	
	</div>

	<!-- Search Google -->
<center>
<FORM method=GET action="http://www.google.com/custom">
<TABLE bgcolor="#FFFFFF" cellspacing="4" border="0" style="border: solid 1px gray;" align="center">
<tr valign=top><td>
<A HREF="http://www.google.com/search">
<IMG SRC="http://www.google.com/logos/Logo_40wht.gif" border=0 ALT=Google align=middle></A>
</td>
<td>
<INPUT TYPE=text name=q size=31 maxlength=255 value="">
<INPUT type=submit name=sa VALUE="Google Search">
<INPUT type=hidden name=cof VALUE="S:http://www.castlestronghold.com;GL:1;VLC:#373737;AH:center;LH:63;LC:#0A50A1;GFNT:#5B5B5B;L:http://www.castleproject.org/images/castle-logo.gif;ALC:#0A50A1;BIMG:http://www.castleproject.org/images/bg.png;LW:280;T:#5B5B5B;AWFID:3d565acacdd9f388;">
<input type=hidden name=domains value="castleproject.org"><br><input type=radio name=sitesearch value=""> Search WWW <input type=radio name=sitesearch value="castleproject.org" checked> Search castleproject.org
</td></tr></TABLE>
</FORM>
<!-- Search Google -->
</center>
	&nbsp;
	<br/>

		</div> <!-- end of content -->
  </div><!-- end of page -->
  


	<script type="text/javascript">_uacct = "UA-1190612-1";urchinTracker();</script>
	</body>
</html>
