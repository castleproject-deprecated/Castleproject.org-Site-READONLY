<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">









<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
		<title>Initializing with an external configuration :: Castle Project</title>
		<link rel="stylesheet" href="../../../../base.css" />
		<link rel="stylesheet" href="../../../../front.css" />
		<link rel="stylesheet" href="../../../../elem.css" />
		<link rel="stylesheet" href="../../../../csharp.css" />
		<link rel="stylesheet" href="../../../../TAB_styles.css" />
		<script type="text/javascript" src="../../../../mktree.js"></script>
		<script type="text/javascript" src="../../../../TAB_Function_Lib.js"></script>
		<script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
	</head>

	<body>
<div id="topheader">
  <div id="maintitle">
	<h1> <a href="../../../../index.html" title="Castle Project Home" accesskey="1">Home</a> </h1>
	<h2> <a href="http://www.castlestronghold.com" title="Castle Stronghold: support, consulting and development">Castle Stronghold</a> </h2>
  </div>
  <div id="mainbar">
	<ul id="toplinks">
		<li>&nbsp;</li>
		<li><a style="_width: 70px;" href="../../../../index.html">Home</a></li>
		<li><a style="_width: 70px;" href="../../../../castle/download.html">Download</a></li>
		<li><a style="_width: 50px;" href="http://using.castleproject.org">Using</a></li>
		<li><a style="_width: 60px;" href="../../../../community/forum.html">Forum</a></li>
		<li><a style="_width: 120px;" href="../../../../jira.html">Issue Tracker</a></li>
		<li><a style="_width: 110px;" href="../../../../irc.html">IRC</a></li>
		<li><a style="_width: 110px;" href="http://builds.castleproject.org">Builds</a></li>
	</ul>
  </div>
</div>



<div id="coolpage">

	<div id="sidebar" >
		
  <div class="lightmenu">
    <div class="lightmenucontent">
<span class="menutitle">
<a href="./../../../../container/index.html">MicroKernel/Windsor</a>
</span>
  <ul>
<li>
<a href="./../../../../container/gettingstarted/index.html">Getting started</a>
</li>
<li>
<a href="./../../../../container/documentation/index.html">Documentation</a>
</li>
<li>
<a href="./../../../../container/facilities/index.html">Facilities</a>
</li>
<li>
<a href="./../../../../container/services/index.html">Services</a>
</li>
<li>
<a href="./../../../../container/faq.html">FAQ</a>
</li>
<li>
<a href="./../../../../container/recipes/index.html">Recipes</a>
</li>
<li>
<a href="./../../../../container/externalarticles.html">External Articles</a>
</li>
<li>
<a href="./../../../../container/roadmap.html">Roadmap</a>
</li>
  </ul>
    </div>
  </div>
  <br/>
  <div class="lightmenu">
    <div class="lightmenucontent">
<span class="menutitle">
<a href="./../../../../container/documentation/trunk/index.html">Documentation</a>
</span>
  <ul>
<li>
<a href="./../../../../container/documentation/trunk/releasenotes/index.html">Release notes</a>
</li>
<li>
<a href="./../../../../container/documentation/trunk/concepts/index.html">Concepts</a>
</li>
<li>
<a href="./../../../../container/documentation/trunk/samples/index.html">Samples</a>
</li>
<li>
<a href="./../../../../container/documentation/trunk/manual/index.html">Reference Manual</a>
</li>
<li>
<a href="./../../../../container/documentation/trunk/usersguide/index.html">User's Guide</a>
</li>
<li>
<a href="./../../../../container/documentation/trunk/advanced/index.html">Advanced usage</a>
</li>
  </ul>
    </div>
  </div>
  <br/>
  <div class="darkmenu">
    <div class="darkmenucontent">
<span class="menutitle">
Navigation
</span>
  <ul>
<li>
<a href="./../../../../index.html">Back to Main Page</a>
</li>
  </ul>
    </div>
  </div>
  <br/>
	<br/>
	
	</div>
		
	<div id="content">
	
		<div class="callout-pic">

<!-- Begin Table of contents -->
<div id="toc">
<h2>Table of contents</h2>
<ul>
<li class='toclevel-1'><a href="#standalone"><span class="tocnumber">1</span> <span class="toctext">Using a standalone configuration file</span></a>
</li>
<li class='toclevel-1'><a href="#appdomain"><span class="tocnumber">2</span> <span class="toctext">Using the AppDomain configuration file</span></a>
</li>
</ul>
</div>
<!-- End Table of contents -->
		</div>

		<h1 class="firstHeading">
		    Initializing with an external configuration
		</h1> 
	
<div class="breadcrumbs">
&raquo;
	<a href="./../../../../index.html">Home</a> 
&raquo;
	<a href="./../../../../container/index.html">MicroKernel/Windsor</a> 
&raquo;
	<a href="./../../../../container/documentation/index.html">Documentation</a> 
&raquo;
	<a href="./../../../../container/documentation/trunk/index.html">Trunk Documentation</a> 
&raquo;
	<a href="./../../../../container/documentation/trunk/usersguide/index.html">User's guide</a> 
&raquo;
<u>Initializing with an external configuration</u>
</div>

		<!-- start content -->
<p>
The strong point about Windsor Container is its
support to external configuration. This document will explore
the constructors overloads offered by it, and the options on where to keep
configuration files.
</p><p>
The formal reference can be found on 
<a href="../manual/windsorconfigref.html" >Windsor Configuration Reference</a> document.
</p><a name="standalone"></a>
  <h1>Using a standalone configuration file</h1>
<p>
	You can create a xml file and use it to configure the 
	container. The expected format follows:
	</p>    <pre class="csharpcode">

<span class="kwrd">&lt;</span><span class="html">configuration</span><span class="kwrd">&gt;</span>

    <span class="kwrd">&lt;</span><span class="html">include</span> ...<span class="kwrd">/&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">include</span> ...<span class="kwrd">/&gt;</span>
    
    <span class="kwrd">&lt;</span><span class="html">properties</span><span class="kwrd">&gt;</span>
        ...
    <span class="kwrd">&lt;/</span><span class="html">properties</span><span class="kwrd">&gt;</span>

    <span class="kwrd">&lt;</span><span class="html">facilities</span><span class="kwrd">&gt;</span>
        ...
    <span class="kwrd">&lt;/</span><span class="html">facilities</span><span class="kwrd">&gt;</span>
    
    <span class="kwrd">&lt;</span><span class="html">components</span><span class="kwrd">&gt;</span>
        ...
    <span class="kwrd">&lt;/</span><span class="html">components</span><span class="kwrd">&gt;</span>

<span class="kwrd">&lt;/</span><span class="html">configuration</span><span class="kwrd">&gt;</span></pre>
  <p>
	You can then create a <tt>WindsorContainer</tt> instance using
	the following code:
	</p>    <pre class="csharpcode">

<span class="kwrd">using</span> Castle.Core.Resource;
<span class="kwrd">using</span> Castle.Windsor;
<span class="kwrd">using</span> Castle.Windsor.Configuration.Interpreters;    

IWindsorContainer container = 
    <span class="kwrd">new</span> WindsorContainer(<span class="kwrd">new</span> XmlInterpreter(<span class="kwrd">new</span> FileResource(<span class="str">"filename.xml"</span>)));

<span class="rem">// or simply</span>

IWindsorContainer container = 
    <span class="kwrd">new</span> WindsorContainer(<span class="kwrd">new</span> XmlInterpreter(<span class="str">"filename.xml"</span>));
    </pre>
  <p>
	If you use includes on the configuration file, be aware the
	the URIs will be relative to the location of the configuration file, in 
	the example above, it will be relative to the folder where <tt>filename.xml</tt> is.
	</p><a name="appdomain"></a>
  <h1>Using the AppDomain configuration file</h1>
<p>
	The AppDomain configuration file is the one that uses the 
	application name plues <tt>.config</tt> or the <tt>web.config</tt>
	for web applications.
	</p><p>
	To use them you must register a section and then include the configuration in
	a nome called <tt>castle</tt>. For example:
	</p>    <pre class="csharpcode">

<span class="kwrd">&lt;?</span><span class="html">xml</span> <span class="attr">version</span><span class="kwrd">="1.0"</span> <span class="attr">encoding</span><span class="kwrd">="utf-8"</span> ?<span class="kwrd">&gt;</span> 
<span class="kwrd">&lt;</span><span class="html">configuration</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">configSections</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">section</span> 
            <span class="attr">name</span><span class="kwrd">="castle"</span>
            <span class="attr">type</span><span class="kwrd">="Castle.Windsor.Configuration.AppDomain.CastleSectionHandler, Castle.Windsor"</span> <span class="kwrd">/&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">configSections</span><span class="kwrd">&gt;</span>

    <span class="kwrd">&lt;</span><span class="html">castle</span><span class="kwrd">&gt;</span>
    
        <span class="kwrd">&lt;</span><span class="html">include</span> ...<span class="kwrd">/&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">include</span> ...<span class="kwrd">/&gt;</span>
        
        <span class="kwrd">&lt;</span><span class="html">properties</span><span class="kwrd">&gt;</span>
            ...
        <span class="kwrd">&lt;/</span><span class="html">properties</span><span class="kwrd">&gt;</span>

        <span class="kwrd">&lt;</span><span class="html">facilities</span><span class="kwrd">&gt;</span>
            ...
        <span class="kwrd">&lt;/</span><span class="html">facilities</span><span class="kwrd">&gt;</span>
        
        <span class="kwrd">&lt;</span><span class="html">components</span><span class="kwrd">&gt;</span>
            ...
        <span class="kwrd">&lt;/</span><span class="html">components</span><span class="kwrd">&gt;</span>
    
    <span class="kwrd">&lt;/</span><span class="html">castle</span><span class="kwrd">&gt;</span>

<span class="kwrd">&lt;/</span><span class="html">configuration</span><span class="kwrd">&gt;</span></pre>
  <p>
	You can then create a <tt>WindsorContainer</tt> instance using
	the following code:
	</p>    <pre class="csharpcode">

<span class="kwrd">using</span> Castle.Core.Resource;
<span class="kwrd">using</span> Castle.Windsor;
<span class="kwrd">using</span> Castle.Windsor.Configuration.Interpreters;    

IWindsorContainer container = 
    <span class="kwrd">new</span> WindsorContainer(<span class="kwrd">new</span> XmlInterpreter(<span class="kwrd">new</span> ConfigResource(<span class="str">"filename.xml"</span>)));

<span class="rem">// or simply</span>

IWindsorContainer container = 
    <span class="kwrd">new</span> WindsorContainer(<span class="kwrd">new</span> XmlInterpreter());
    </pre>
  <p>
	If you use includes on the configuration file, be aware the
	the URIs will be relative to the AppDomain base path. 
	</p>		<!-- end content -->
		
	<div id="footer">
	Found an error? Something inaccurate? 
	<a href="../../../../community/getinvolved.html">Help us improve the documentation</a> <br/>
	Generated by <a href="../../../../others/anakia/index.html">Castle Anakia</a>. 
	
	<p>&nbsp;</p>
	
	<p>
	Sponsored by <img src="../../../../images/logothumb.gif" /> <a href="http://www.castlestronghold.com">Castle Stronghold</a>.
	</p>
	
	</div>

	<!-- Search Google -->
<center>
<FORM method=GET action="http://www.google.com/custom">
<TABLE bgcolor="#FFFFFF" cellspacing="4" border="0" style="border: solid 1px gray;" align="center">
<tr valign=top><td>
<A HREF="http://www.google.com/search">
<IMG SRC="http://www.google.com/logos/Logo_40wht.gif" border=0 ALT=Google align=middle></A>
</td>
<td>
<INPUT TYPE=text name=q size=31 maxlength=255 value="">
<INPUT type=submit name=sa VALUE="Google Search">
<INPUT type=hidden name=cof VALUE="S:http://www.castlestronghold.com;GL:1;VLC:#373737;AH:center;LH:63;LC:#0A50A1;GFNT:#5B5B5B;L:http://www.castleproject.org/images/castle-logo.gif;ALC:#0A50A1;BIMG:http://www.castleproject.org/images/bg.png;LW:280;T:#5B5B5B;AWFID:3d565acacdd9f388;">
<input type=hidden name=domains value="castleproject.org"><br><input type=radio name=sitesearch value=""> Search WWW <input type=radio name=sitesearch value="castleproject.org" checked> Search castleproject.org
</td></tr></TABLE>
</FORM>
<!-- Search Google -->
</center>
	&nbsp;
	<br/>

		</div> <!-- end of content -->
  </div><!-- end of page -->
  


	<script type="text/javascript">_uacct = "UA-1190612-1";urchinTracker();</script>
	</body>
</html>
