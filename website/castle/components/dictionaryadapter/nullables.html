<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">









<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
		<title>Using Nullables :: Castle Project</title>
		<link rel="stylesheet" href="../../base.css" />
		<link rel="stylesheet" href="../../front.css" />
		<link rel="stylesheet" href="../../elem.css" />
		<link rel="stylesheet" href="../../csharp.css" />
		<link rel="stylesheet" href="../../TAB_styles.css" />
		<script type="text/javascript" src="../../mktree.js"></script>
		<script type="text/javascript" src="../../TAB_Function_Lib.js"></script>
		<script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
	</head>

	<body>
<div id="topheader">
  <div id="maintitle">
	<h1> <a href="../../index.html" title="Castle Project Home" accesskey="1">Home</a> </h1>
	<h2> <a href="http://www.castlestronghold.com" title="Castle Stronghold: support, consulting and development">Castle Stronghold</a> </h2>
  </div>
  <div id="mainbar">
	<ul id="toplinks">
		<li>&nbsp;</li>
		<li><a style="_width: 70px;" href="../../index.html">Home</a></li>
		<li><a style="_width: 70px;" href="../../castle/download.html">Download</a></li>
		<li><a style="_width: 50px;" href="http://using.castleproject.org">Using</a></li>
		<li><a style="_width: 60px;" href="../../community/forum.html">Forum</a></li>
		<li><a style="_width: 120px;" href="../../jira.html">Issue Tracker</a></li>
		<li><a style="_width: 110px;" href="../../irc.html">IRC</a></li>
		<li><a style="_width: 110px;" href="http://builds.castleproject.org">Builds</a></li>
	</ul>
  </div>
</div>



<div id="coolpage">

	<div id="sidebar" >
		
  <div class="lightmenu">
    <div class="lightmenucontent">
<span class="menutitle">
<a href="./../../components/index.html">Components</a>
</span>
  <ul>
<li>
<a href="./../../components/validator/index.html">Validator</a>
</li>
<li>
<a href="./../../components/binder/index.html">Binder</a>
</li>
<li>
<a href="./../../components/emailsender/index.html">Email Sender</a>
</li>
<li>
<a href="./../../components/templateengine/index.html">Template Engine</a>
</li>
<li>
<a href="./../../components/dictionaryadapter/index.html">Dictionary ÃÃAdapter</a>
</li>
  </ul>
    </div>
  </div>
  <br/>
  <div class="darkmenu">
    <div class="darkmenucontent">
<span class="menutitle">
Navigation
</span>
  <ul>
<li>
<a href="./../../index.html">Back to Main Page</a>
</li>
  </ul>
    </div>
  </div>
  <br/>
	<br/>
	
	</div>
		
	<div id="content">
	
		<div class="callout-pic">

<!-- Begin Table of contents -->
<div id="toc">
<h2>Table of contents</h2>
<ul>
<li class='toclevel-1'><span class="tocnumber">1</span> <span class="toctext">Accessing the dictionary directly</span>
</li>
<li class='toclevel-1'><span class="tocnumber">2</span> <span class="toctext">Using a Dictionary Adapter</span>
</li>
</ul>
</div>
<!-- End Table of contents -->
		</div>

		<h1 class="firstHeading">
		    Using Nullables
		</h1> 
	
<div class="breadcrumbs">
&raquo;
	<a href="./../../index.html">Home</a> 
&raquo;
	<a href="./../../components/index.html">Components project</a> 
&raquo;
	<a href="./../../components/dictionaryadapter/index.html">DictionaryAdapter Component</a> 
&raquo;
<u>Using Nullables</u>
</div>

		<!-- start content -->
<p>
				You can exploit the nullables support of .NET 2.0 to make your code more readble and maintainable.
			</p>  <h1>Accessing the dictionary directly</h1>
<p>
				Assuming we want to be able to access a session variable named "UserId", and that we need to make sure that the value exists before reading it. With direct access to the Session dictionary, the code would look something like that:
			</p>    <pre class="csharpcode">

...
<span class="kwrd">if</span> (Session[<span class="str">"UserId"</span>] != <span class="kwrd">null</span>)
{
    <span class="kwrd">int</span> UserId = (<span class="kwrd">int</span>)Session[<span class="str">"UserId"</span>];
    someService.DoImportantStuffOn(UserId);
}
...</pre>
    <h1>Using a Dictionary Adapter</h1>
<p>
				Now let's do te same using the Dictionary Adapter. <br></br>
				First, we have to declare the interface. This time we'd use a nullable int.
			</p>    <pre class="csharpcode">

<span class="kwrd">public</span> <span class="kwrd">interface</span> IUserIdAware
{
    <span class="kwrd">int</span> UserId? { get; set; }
}</pre>
  <p>
				Now we can use the adapter to get a cleaner access:
			</p>    <pre class="csharpcode">

...
IUserIdAware TypedSession = <span class="kwrd">new</span> DictionaryAdapterFactory().GetAdapter&lt;IUserIdAware&gt;(Session);
<span class="kwrd">if</span> (TypedSession.UserId.HasValue)
    someService.DoImportantStuffOn(TypedSession.UserId.Value);
...</pre>
  		<!-- end content -->
		
	<div id="footer">
	Found an error? Something inaccurate? 
	<a href="../../community/getinvolved.html">Help us improve the documentation</a> <br/>
	Generated by <a href="../../others/anakia/index.html">Castle Anakia</a>. 
	
	<p>&nbsp;</p>
	
	<p>
	Sponsored by <img src="../../images/logothumb.gif" /> <a href="http://www.castlestronghold.com">Castle Stronghold</a>.
	</p>
	
	</div>

	<!-- Search Google -->
<center>
<FORM method=GET action="http://www.google.com/custom">
<TABLE bgcolor="#FFFFFF" cellspacing="4" border="0" style="border: solid 1px gray;" align="center">
<tr valign=top><td>
<A HREF="http://www.google.com/search">
<IMG SRC="http://www.google.com/logos/Logo_40wht.gif" border=0 ALT=Google align=middle></A>
</td>
<td>
<INPUT TYPE=text name=q size=31 maxlength=255 value="">
<INPUT type=submit name=sa VALUE="Google Search">
<INPUT type=hidden name=cof VALUE="S:http://www.castlestronghold.com;GL:1;VLC:#373737;AH:center;LH:63;LC:#0A50A1;GFNT:#5B5B5B;L:http://www.castleproject.org/images/castle-logo.gif;ALC:#0A50A1;BIMG:http://www.castleproject.org/images/bg.png;LW:280;T:#5B5B5B;AWFID:3d565acacdd9f388;">
<input type=hidden name=domains value="castleproject.org"><br><input type=radio name=sitesearch value=""> Search WWW <input type=radio name=sitesearch value="castleproject.org" checked> Search castleproject.org
</td></tr></TABLE>
</FORM>
<!-- Search Google -->
</center>
	&nbsp;
	<br/>

		</div> <!-- end of content -->
  </div><!-- end of page -->
  


	<script type="text/javascript">_uacct = "UA-1190612-1";urchinTracker();</script>
	</body>
</html>
